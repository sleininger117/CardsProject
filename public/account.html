<!DOCTYPE html>
<html>
    <head>
        <title>Cards: Home</title>
        <link rel="stylesheet" type="text/css" href="./css/main.css">
        <link rel="stylesheet" type="text/css" href="./css/home.css">
        <link rel="stylesheet" type="text/css" href="./css/notif.css">
        <link rel="stylesheet" type="text/css" href="./css/nav.css">
        <link rel="stylesheet" type="text/css" href="./css/account.css">
    </head>
    <body>
        <div class="smartphone">
            <div class="content">
                <div id="accountNotif"> 
                    <div onclick="toNotif()"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 17H2a3 3 0 0 0 3-3V9a7 7 0 0 1 14 0v5a3 3 0 0 0 3 3zm-8.27 4a2 2 0 0 1-3.46 0"></path></svg></div>
                    <div onclick="toAccount()"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5.52 19c.64-2.2 1.84-3 3.22-3h6.52c1.38 0 2.58.8 3.22 3"/><circle cx="12" cy="10" r="3"/><circle cx="12" cy="12" r="10"/></svg></div>
                </div>
                <main id="accountPage">
                    <label for="username">Username:</label>
                    <div id="username">
                        <p id="displayUser" class="info">sleininger</p>
                        <input class="hidden" type="text" id="user" placeholder="sleininger">
                        <div class="hidden choice" onclick="finalUser()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#15895c" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                        </div>
                        <div class="hidden choice" onclick="changeUser()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#de0707" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div onclick="changeUser()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="14 2 18 6 7 17 3 17 3 13 14 2"></polygon><line x1="3" y1="22" x2="21" y2="22"></line></svg>
                        </div>
                    </div>
                    <label for="email">Email:</label>
                    <div id="email">
                        <p class="info">sleininger@scu.edu</p>
                        <input class="hidden" type="text" id="mail" placeholder="sleininger@scu.edu">
                        <div class="hidden choice" onclick="finalEmail()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#15895c" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>
                        </div>
                        <div class="hidden choice" onclick="changeEmail()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#de0707" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                        </div>
                        <div onclick="changeEmail()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="14 2 18 6 7 17 3 17 3 13 14 2"></polygon><line x1="3" y1="22" x2="21" y2="22"></line></svg>
                        </div>
                    </div>
                    <label for="password">Change Password:</label>
                    <div id="password">
                        <label for="oldPW">Old Password</label>
                        <input type="text" id="oldPW" placeholder="Old Password">
                        <label for="newPW1">New Password</label>
                        <input type="text" id="newPW1" placeholder="New Password">
                        <label for="newPW2">Confirm New Password</label>
                        <input type="text" id="newPW2" placeholder="Confirm New Password">
                    </div>
                    <button class="setPass" onclick="setPassword()">Submit</button>
                    <p id="toast" class="hidden">Error updating password! Please try again</p>
                    <button class="logout" onclick="toLogin()">Logout</button>
                </main>
                <nav>
                    <div onclick="toContacts()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                    </div>
                    <div onclick="toHome()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="#000000" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
                    </div>
                    <div onclick="toCards()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                    </div>
                </nav>
            </div>
        </div>
    </body>
    <script>
        //Javascript for the page goes here, I will add it later.
        //Important: Account and notifications should be replaced with SVGs, also Star icon (filled in btw)
            // place pngs in images folder, reference as I did for gmail
        function toContacts() {
            window.location.href = "http://127.0.0.1:3000/contacts";
        }
        function toHome() {
            window.location.href = "http://127.0.0.1:3000/home";
        }
        function toCards() {
            window.location.href = "http://127.0.0.1:3000/cards";
        }
        function toNotif(){
            window.location.href = "http://127.0.0.1:3000/notifications";
        }
        function toAccount(){
            window.location.href = "http://127.0.0.1:3000/account";
        }
        function toLogin(){
            window.location.href = "http://127.0.0.1:3000/";
        }
        function setPassword(){
            const old = document.querySelector("#oldPW");
            const new1 = document.querySelector("#newPW1");
            const new2 = document.querySelector("#newPW2");
            const toast = document.querySelector("#toast");
            if((old.value === "testPW") && (new1.value === new2.value)){
                old.value = "";
                new1.value = "";
                new2.value = "";
                toast.textContent = "Password Successfully Changed!";
                toast.classList.toggle("hidden");
                toast.classList.toggle("success");
                setTimeout(toggleToast, 3000);
            } else {
                old.value = "";
                new1.value = "";
                new2.value = "";
                toast.textContent = "Error updating password! Please try again.";
                toast.classList.toggle("hidden");
                toast.classList.toggle("fail");
                setTimeout(toggleToast, 3000);
            }
        }
        function toggleToast(){
            const toast = document.querySelector("#toast");
            toast.classList.toggle("hidden");
            if(toast.classList.contains("success")){
                toast.classList.toggle("success");
            } else if (toast.classList.contains("fail")){
                toast.classList.toggle("fail");
            }
        }
        function changeUser(){
            let items = document.querySelectorAll("#username>*");
            for(let i = 0; i < items.length; i++){
                items[i].classList.toggle("hidden");
            }
        }
        function changeEmail(){
            let items = document.querySelectorAll("#email>*");
            for(let i = 0; i < items.length; i++){
                items[i].classList.toggle("hidden");
            }
        }
        function finalUser() {
            document.querySelector("#displayUser").textContent = document.querySelector("#user").value;
            document.querySelector("#user").value = "";
            changeUser();
        }
        function finalEmail(){
            document.querySelector("#email .info").textContent = document.querySelector("#mail").value;
            document.querySelector("#mail").value = "";
            changeEmail();
        }
    </script>
</html>